---
title: 词法作用域和动态作用域
index_img: 'https://gitee.com/ylea/imagehost/raw/master/index_img/js.jpg'
banner_img: 'https://gitee.com/ylea/imagehost/raw/master/banner_img/71.jpg'
date: 2021-01-08 16:42:07
categories:
    - JS
    - 作用域和闭包
tags:
    - 词法作用域
---



# 作用域

&emsp;&emsp;作用域是指程序源代码中定义变量的区域。

&emsp;&emsp;它规定了如何查找变量，也是就确定当前执行代码对变量的访问权限。

&emsp;&emsp;JS 采用了词法作用域（lexical scoping），也就是静态作用域。

# 静态作用域和动态作用域

&emsp;&emsp;JS 采用的**词法作用域**是**静态作用域**，因此函数的作用域在函数定义的时候就决定了。

&emsp;&emsp;与静态作用域相对的是**动态作用域**，函数的作用域是在函数调用的时候才决定的。

例如：

```js
var value = 1;

function foo() {
    console.log(value);
}

function bar() {
    var value = 2;
    foo();
}

bar(); // ???
```

&emsp;&emsp;因为 JS 是静态作用域，因此执行过程大致如下：

&emsp;&emsp;执行 `foo` 函数，先从 `foo` 函数内部查找是否有局部变量 `value` ，若没有，就根据书写位置，查找上面一层的代码，也就是 `value` 等于 `1`，因此上面的代码会打印 `1`。



&emsp;&emsp;若是动态作用域，当 `foo` 内部找不到 `value` 时，会从调用函数的作用域，也就是 `bar` 内部查找 `value`，此时就会打印 `2`。

