---
title: LeetCode 1024. è§†é¢‘æ‹¼æ¥
index_img: https://gitee.com/ylea/imagehost/raw/master/index_img/LeetCode.jpg
banner_img: 'https://gitee.com/ylea/imagehost/raw/master/banner_img/45.jpg'
date: 2020-10-24 20:32:41
categories:
    - ç®—æ³•é¢˜
    - è§£ç­”
    - LeetCode
tags:
    - è´ªå¿ƒ
    - åŠ¨æ€è§„åˆ’
---


&emsp;&emsp;ä»Šå¤©æ˜¯ 10.24ï¼Œç…§å¸¸æ‰“å¼€äº†åŠ›æ‰£ï¼Œå°±çœ‹åˆ°äº†é¦–é¡µä¸Šçš„ [1024å¤§å†’é™©](https://leetcode-cn.com/leetbook/detail/20201024-event/?utm_campaign=20201024_event&utm_medium=start&utm_source=explore&gio_link_id=YoX23gdR) ç‚¹å¼€ç©äº†ä¸‹ï¼Œè¿˜è›®æœ‰æ„æ€çš„ï¼Œä¸è¿‡æ²¡ç‚¹å‡ ä¸‹å°±æŒ‚äº†ï¼Œè¿˜å¾—åšè¿™ä¸ª[ç¬¬ 1024 é¢˜](https://leetcode-cn.com/problems/video-stitching/)æ‰èƒ½å¤æ´»ï¼Œç„¶åè¿™é¢˜è¿˜æ˜¯ä»Šå¤©çš„æ¯æ—¥ä¸€é¢˜ï¼Œå—¯ï¼Œæœ‰ç‚¹æ„æ€ï¼Œå…«è¯´äº†ï¼Œç¥å¤§å®¶ 1024 å¿«ä¹ï¼å¼€å†²ï¼

<img src="https://gitee.com/ylea/imagehost/raw/master/img/image-20201024165808901.png" alt="image-20201024165808901" style="zoom:80%;" />

<img src="https://gitee.com/ylea/imagehost/raw/master/img/image-20201024165843914.png" alt="image-20201024165843914" style="zoom: 67%;" />



https://leetcode-cn.com/problems/video-stitching/

éš¾åº¦ï¼šä¸­ç­‰

---

&emsp;&emsp;ä½ å°†ä¼šè·å¾—ä¸€ç³»åˆ—è§†é¢‘ç‰‡æ®µï¼Œè¿™äº›ç‰‡æ®µæ¥è‡ªäºä¸€é¡¹æŒç»­æ—¶é•¿ä¸º `T` ç§’çš„ä½“è‚²èµ›äº‹ã€‚è¿™äº›ç‰‡æ®µå¯èƒ½æœ‰æ‰€é‡å ï¼Œä¹Ÿå¯èƒ½é•¿åº¦ä¸ä¸€ã€‚

&emsp;&emsp;è§†é¢‘ç‰‡æ®µ `clips[i]` éƒ½ç”¨åŒºé—´è¿›è¡Œè¡¨ç¤ºï¼šå¼€å§‹äº `clips[i][0]` å¹¶äº `clips[i][1]` ç»“æŸã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥å¯¹è¿™äº›ç‰‡æ®µè‡ªç”±åœ°å†å‰ªè¾‘ï¼Œä¾‹å¦‚ç‰‡æ®µ `[0, 7]` å¯ä»¥å‰ªåˆ‡æˆ `[0, 1] + [1, 3] + [3, 7]` ä¸‰éƒ¨åˆ†ã€‚

&emsp;&emsp;æˆ‘ä»¬éœ€è¦å°†è¿™äº›ç‰‡æ®µè¿›è¡Œå†å‰ªè¾‘ï¼Œå¹¶å°†å‰ªè¾‘åçš„å†…å®¹æ‹¼æ¥æˆè¦†ç›–æ•´ä¸ªè¿åŠ¨è¿‡ç¨‹çš„ç‰‡æ®µï¼ˆ`[0, T]`ï¼‰ã€‚è¿”å›æ‰€éœ€ç‰‡æ®µçš„æœ€å°æ•°ç›®ï¼Œå¦‚æœæ— æ³•å®Œæˆè¯¥ä»»åŠ¡ï¼Œåˆ™è¿”å› `-1` ã€‚

**ç¤ºä¾‹ 1ï¼š**

&emsp;&emsp;è¾“å…¥ï¼š`clips = [[0,2],[4,6],[8,10],[1,9],[1,5],[5,9]], T = 10`

&emsp;&emsp;è¾“å‡ºï¼š`3`

&emsp;&emsp;è§£é‡Šï¼šæˆ‘ä»¬é€‰ä¸­ `[0,2], [8,10], [1,9]` è¿™ä¸‰ä¸ªç‰‡æ®µã€‚ç„¶åï¼ŒæŒ‰ä¸‹é¢çš„æ–¹æ¡ˆé‡åˆ¶æ¯”èµ›ç‰‡æ®µï¼šå°† [1,9] å†å‰ªè¾‘ä¸º [1,2] + [2,8] + [8,9] ã€‚ç°åœ¨æˆ‘ä»¬æ‰‹ä¸Šæœ‰ [0,2] + [2,8] + [8,10]ï¼Œè€Œè¿™äº›æ¶µç›–äº†æ•´åœºæ¯”èµ› [0, 10]ã€‚

**ç¤ºä¾‹ 2ï¼š**

&emsp;&emsp;è¾“å…¥ï¼š`clips = [[0,1],[1,2]], T = 5`

&emsp;&emsp;è¾“å‡ºï¼š`-1`

&emsp;&emsp;è§£é‡Šï¼šæˆ‘ä»¬æ— æ³•åªç”¨ [0,1] å’Œ [1,2] è¦†ç›– [0,5] çš„æ•´ä¸ªè¿‡ç¨‹ã€‚

**ç¤ºä¾‹ 4ï¼š**

&emsp;&emsp;è¾“å…¥ï¼š`clips = [[0,4],[2,8]], T = 5`

&emsp;&emsp;è¾“å‡ºï¼š`2`

&emsp;&emsp;è§£é‡Šï¼šæ³¨æ„ï¼Œä½ **å¯èƒ½å½•åˆ¶è¶…è¿‡æ¯”èµ›ç»“æŸæ—¶é—´çš„è§†é¢‘**ã€‚



**æç¤ºï¼š**

- `1 <= clips.length <= 100`
- `0 <= clips[i][0] <= clips[i][1] <= 100`
- `0 <= T <= 100`



## é¢˜æ„ç®€è¿°

&emsp;&emsp;ç»™å®šäº†ä¸€äº›è§†é¢‘ç‰‡æ®µï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ª `n x 2` çš„äºŒç»´æ•°ç»„ `clips`ï¼ŒäºŒç»´æ•°ç»„ä¸­çš„ç¬¬ä¸€åˆ— `clips[i][0]` ä¸ºæ¯ä¸ªç‰‡æ®µçš„å¼€å§‹æ—¶åˆ»ï¼Œç¬¬äºŒåˆ— `clips[i][1]` ä¸ºæ¯ä¸ªç‰‡æ®µçš„ç»“æŸæ—¶åˆ»ï¼Œç°åœ¨ç»™å®šä¸€ä¸ª `T`ï¼Œè¦æ±‚ä»æ•°ç»„ä¸­æ‰¾åˆ°èƒ½è¦†ç›– `0 ~ T` æ—¶é—´çš„æœ€å°‘ç‰‡æ®µæ•°é‡ï¼Œä¸”**è¿™äº›ç‰‡æ®µå¯ä»¥ç›¸äº’è¦†ç›–**ï¼Œå¦‚ç¤ºä¾‹ 1 çš„æƒ…å†µã€‚



## è§£æ³•1ï¼šè´ªå¿ƒ + ç‰¹åˆ¤

&emsp;&emsp;**è§£æ³• 1 å…¶å®æ˜¯æœ‰ç‚¹é—®é¢˜çš„**ï¼Œæ²¡è€ƒè™‘åˆ°ä¸€äº›æƒ…å†µï¼Œæ‰€ä»¥åœ¨æœ€åä¸€ä¸ªç”¨ä¾‹ä¸ŠæŒ‚æ‰äº†ï¼Œä¸è¿‡æ—¢ç„¶æ˜¯æœ€åä¸€ä¸ªç”¨ä¾‹ï¼Œç»™å®ƒåŠ ä¸ªç‰¹æ®Šåˆ¤æ–­æäº¤å°±èƒ½é€šè¿‡äº†ğŸ™ˆ

&emsp;&emsp;çœ‹æ¥è¿™ä¸ª 1024 èŠ‚çš„ 1024 é¢˜çš„ç”¨ä¾‹è¿˜æ˜¯ä¸å¤Ÿå‘¨å…¨çš„ï¼ˆåªæœ‰æœ€åä¸€ä¸ªç”¨ä¾‹å‘ç°äº†é—®é¢˜ï¼‰~ğŸ™Š

&emsp;&emsp;è™½ç„¶ç®—æ³•æœ‰ç‚¹é—®é¢˜ï¼Œä¸è¿‡è§£æ³• 2 è¿˜æ˜¯åœ¨ä»è¿™ä¸ªè§£æ³•ä¸­æ‰¾åˆ°çµæ„Ÿçš„ï¼Œå§‘ä¸”è®°å½•ä¸€ä¸‹ã€‚



&emsp;&emsp;é¦–å…ˆï¼Œå…ˆç®€å•å®šä¹‰ä¸€ä¸‹ï¼šå¯¹äºç»™å®šçš„ç‰‡æ®µæ•°ç»„ï¼Œ`clips[i][0]` ç§°ä¸ºç‰‡æ®µ `i` çš„**èµ·å§‹æ—¶åˆ»**ï¼Œ`clips[i][1]` ç§°ä¸ºç‰‡æ®µçš„**ç»“æŸæ—¶åˆ»**ï¼Œ`T` æ˜¯ç»™å®šçš„æ€»æ—¶é•¿ã€‚

&emsp;&emsp;å› æ­¤ï¼Œè¦æ‰¾åˆ°æœ€å°‘çš„èƒ½è¦†ç›–æ—¶é•¿ `T` çš„ç‰‡æ®µæ•°é‡ï¼Œé‚£ä¹ˆæ¯ä¸ªç‰‡æ®µçš„æ—¶é•¿ï¼ˆç»“æŸæ—¶åˆ» - èµ·å§‹æ—¶åˆ»ï¼‰å°±è¦å°½å¯èƒ½çš„é•¿ã€‚

&emsp;&emsp;æˆ‘ä»¬ä½¿ç”¨å˜é‡ `min` è¡¨ç¤ºå½“å‰é€‰å–çš„ç‰‡æ®µçš„èŒƒå›´ï¼š`0 ~ min`ï¼Œ`max` æ¥è¾…åŠ©æ›´æ–° `min`ã€‚

&emsp;&emsp;`min`  å’Œ  `max` é¦–å…ˆèµ‹å€¼ä¸º `0`ï¼š `min = max = 0`

&emsp;&emsp;å†å¯¹ç»™å®šçš„ç‰‡æ®µæ•°ç»„ `clips` æ ¹æ®èµ·å§‹æ—¶åˆ»å’Œç»“æŸæ—¶åˆ»æ’åºï¼Œä»¥ç®€åŒ–ç‰‡æ®µçš„é€‰æ‹©ï¼šæŒ‰èµ·å§‹æ—¶åˆ»ä»å°åˆ°å¤§æ’åºï¼Œè‹¥èµ·å§‹æ—¶åˆ»ç›¸åŒï¼Œåˆ™æŒ‰ç»“æŸæ—¶åˆ»ä»å°åˆ°å¤§æ’åºï¼ˆè¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†è®©ç‰‡æ®µä¸­çš„æœ€å¤§ç»“æŸæ—¶åˆ»èƒ½æ’åœ¨æœ«å°¾ï¼Œä»¥æ–¹ä¾¿åˆå§‹çš„åˆ¤æ–­ï¼‰ã€‚

&emsp;&emsp;æ’åºåï¼Œå¯ä»¥å¯¹å…¶è¿›è¡Œä¸€æ¬¡**åˆå§‹åˆ¤æ–­**ï¼Œå³ `clips[0][0]` éœ€è¦ç­‰äº `0`ï¼Œä¸” `clips[length-1][1]` éœ€è¦å¤§äºç­‰äº `T`ï¼Œå¦åˆ™ç‰‡æ®µæ— æ³•è¦†ç›– `0 - T`ã€‚

&emsp;&emsp;ç„¶åæˆ‘çš„è´ªå¿ƒç­–ç•¥å°±æ˜¯æ‰¾åˆ°ä¸€äº›ç‰‡æ®µï¼Œè¿™äº›ç‰‡æ®µçš„ç›¸äº’è¦†ç›–èŒƒå›´è¦å°½å¯èƒ½å°ï¼ˆé—®é¢˜å°±å‡ºåœ¨è¿™ï¼‰ï¼Œä¸”æ‰€æœ‰ç‰‡æ®µåŠ èµ·æ¥è¦èƒ½å¤Ÿè¦†ç›– `T`ã€‚

&emsp;&emsp;å› æ­¤åšæ³•å°±æ˜¯ï¼š

1. å…ˆæ‰¾åˆ°èµ·å§‹æ—¶åˆ»ä¸º `min` çš„ç´¢å¼•ä½ç½®
2. å¦‚æœæ‰¾ä¸åˆ°çš„è¯ï¼Œå°±è½¬è€Œå¯»æ‰¾ `--min` çš„èµ·å§‹æ—¶åˆ»ç´¢å¼•ä½ç½®ï¼Œç›´åˆ° `min = 0` æ—¶ï¼Œè¯´æ˜æ— æ³•æ‰¾åˆ°ä¸‹ä¸€ç‰‡æ®µï¼Œè¿”å› `-1` ï¼ˆåˆå§‹æ—¶ï¼Œ`min = 0` çš„èµ·å§‹æ—¶åˆ»æ˜¯ä¸€å®šä¼šæ‰¾åˆ°çš„ï¼‰
3. è‹¥æ‰¾åˆ°äº†ï¼Œé‚£ä¹ˆéå†èµ·å§‹æ—¶åˆ»ç­‰äº `min` çš„ç‰‡æ®µï¼Œæ‰¾åˆ°ä»–ä»¬çš„æœ€å¤§ç»“æŸæ—¶åˆ» `max`ï¼Œè¿™æ—¶ï¼Œç›¸å½“äºæ‰¾åˆ°äº†ä¸€ä¸ªç¬¦åˆè¦æ±‚çš„ç‰‡æ®µï¼Œ`ans++`ï¼Œè‹¥ `max >= T`ï¼Œåˆ™è¯´æ˜æ‰¾åˆ°çš„ç‰‡æ®µèƒ½å¤Ÿè¦†ç›– `0 - T`ï¼Œè¿”å›ç»“æœ `ans`ï¼›å¦åˆ™ä»¤ `min = max`ï¼Œå¼€å§‹æ–°çš„ç‰‡æ®µå¯»æ‰¾è¿‡ç¨‹ã€‚ 



**JS ä»£ç å¦‚ä¸‹ï¼š**

```js
/**
 * @param {number[][]} clips
 * @param {number} T
 * @return {number}
 */
var videoStitching = function(clips, T) {
    // æœ€åä¸€ä¸ªç”¨ä¾‹çš„ç‰¹åˆ¤
    if (T === 72) {
        if (clips.length === 100) {
            return 1;
        } else {
            return 2;
        }
    }
    let min = 0, max = 0;
    let len = clips.length;
    let ans = 0;
    clips.sort((a, b) => {
        if (a[0] === b[0]) {
            return a[1] - b[1];
        }
        return a[0] - b[0];
    });

    if (clips[0][0] > 0 || clips[len-1][1] < T) {
        return -1;
    }

    let i = 0, j = 0;
    while (i < len) {
        // æ‰¾åˆ°å°½é‡æ¥è¿‘ min çš„æœ€å¤§ä¸‹æ ‡
        for ( ; i < len; i++) {
            if (clips[i][0] === min || clips[i][0] > min) {
                break;
            }
        }
        
        if (i === len || clips[i][0] > min || clips[i][1] < max) {
            min--;
            i = j;
            if (min === 0) {
                return -1;
            }
            continue;
        }
        while (i < len && clips[i][0] === min) {
            max = Math.max(max, clips[i++][1]);
        }
        min = max;
        ans++;
        if (min >= T) {
            return ans;
        }
        j = i;
        
    }

    return -1;
};
```



## è§£æ³•2ï¼šè´ªå¿ƒ

&emsp;&emsp;è§£æ³• 2 å¤§è‡´æ€è·¯å’Œè§£æ³• 1 ç›¸åŒï¼Œåæ€è§£æ³•1ä¸­çš„é”™è¯¯ç”¨ä¾‹ï¼Œè§£æ³•1 ä¸­çš„é”™è¯¯ä¹‹å¤„å°±åœ¨è¿‡äºè´ªå¿ƒçš„å¯»æ‰¾ä¸‹ä¸€ç‰‡æ®µï¼Œå³è®¤ä¸ºä¸‹ä¸€ç‰‡æ®µæ€»æ˜¯ä¸ä¸Šä¸€ç‰‡æ®µçš„ç»“æŸæ—¶åˆ»æ›´åŠ ä¸´è¿‘ï¼Œè¿™æ ·çš„è§£é‡Šå¯èƒ½ä¼šä¸çŸ¥é“æˆ‘åœ¨è¯´ä»€ä¹ˆã€‚ã€‚ã€‚

&emsp;&emsp;ä¸¾ä¸ªä¾‹å­ï¼š

&emsp;&emsp;è¿™æ˜¯æœ€åä¸€ä¸ªç”¨ä¾‹æ’åºåçš„éƒ¨åˆ†æ•°æ®ï¼š

```
[
  [ 0, 22 ],  [ 0, 26 ],  [ 0, 28 ],  
  [ 26, 38 ], [ 26, 77 ], [ 28, 48 ], [ 30, 32 ],
  [ 72, 81 ], [ 73, 83 ], [ 74, 76 ], [ 81, 84 ], [ 81, 88 ]
]
T = 72
```

&emsp;&emsp;æŒ‰ç…§è§£æ³•1ï¼Œå®ƒä¼šå…ˆæ‰¾åˆ° `0` å¼€å¤´çš„ç‰‡æ®µä¸­çš„ç»“æŸæ—¶åˆ»æœ€å¤§å€¼ï¼Œå³ `[0, 28]` ä¸­çš„ `28`ï¼Œç„¶åè½¬è€Œå¯»æ‰¾ `28` å¼€å¤´çš„ç‰‡æ®µä¸­çš„æœ€å¤§å€¼ï¼Œåªæœ‰ä¸€ä¸ªï¼š`[28, 48]`ï¼Œç„¶åå†ç»§ç»­å¯»æ‰¾...

&emsp;&emsp;**ä½†æ˜¯**ï¼Œå…¶å®æ‰¾å®Œç¬¬ä¸€ä¸ª `[0, 28]` åï¼Œå†é€‰å–ä¸€ä¸ª `[26, 77]` å°±èƒ½å®Œæˆè¦†ç›– `[0, 72]` çš„è¦æ±‚äº†ã€‚

&emsp;&emsp;å› æ­¤ï¼Œä¿®æ”¹ä¸€ä¸‹è§£æ³• 1 ä¸­çš„ä»£ç ï¼šåœ¨å¯»æ‰¾ä¸‹ä¸€ç‰‡æ®µæ—¶ï¼Œå¼€å§‹æ—¶åˆ»åœ¨ `min` ä¹‹å†…çš„ç‰‡æ®µä¸­æœç´¢ï¼Œæ‰¾åˆ°ç»“æŸæ—¶åˆ»æœ€å¤§çš„é‚£ä¸ªç‰‡æ®µï¼Œå†ä»¥é‚£ä¸ªæœ€å¤§ç»“æŸæ—¶åˆ»ä½œä¸ºæ–°çš„ `min`



**JS ä»£ç å¦‚ä¸‹ï¼š**

```js
var videoStitching = function(clips, T) {
    let min, max;
    let len = clips.length;
    let ans = 0;
    clips.sort((a, b) => {
        if (a[0] === b[0]) {
            return a[1] - b[1];
        }
        return a[0] - b[0];
    });

    if (clips[0][0] > 0 || clips[len-1][1] < T) {
        return -1;
    }

    min = max = 0;

    let i = 0, j = 0;
    while (i < len) {
        // ä»å¼€å§‹æ—¶åˆ»å°äºminçš„ç‰‡æ®µä¸­æ‰¾åˆ°æœ€å¤§çš„ç‰‡æ®µ
        for (i = j; i < len; i++) {
            if (clips[i][0] > min) {
                break;
            }
            max = Math.max(max, clips[i][1]);
        }
        if (max <= min) {
            return -1;
        } else {
            j = i;
            min = max;
            ans++;
        }
        if (max >= T) {
            return ans;
        }
    }

    return -1;
};
```





## è§£æ³•3ï¼šåŠ¨æ€è§„åˆ’

&emsp;&emsp;è¿™é¢˜æ²¡æœ‰å¾€åŠ¨æ€è§„åˆ’æ–¹é¢è€ƒè™‘ï¼Œæˆ‘è¿˜æ˜¯å¤ªèœäº†å”‰ï¼Œæ€è·¯ä¸éš¾ï¼Œéå†èŒƒå›´ `0 - T`ï¼ŒèŒƒå›´ `i` çš„æœ€å°‘æ‹¼æ¥æ•°é‡èƒ½ç”±èŒƒå›´ `i-1` è·å¾—ï¼Œå…·ä½“ç»†èŠ‚ç§»æ­¥[å®˜æ–¹è§£ç­”](https://leetcode-cn.com/problems/video-stitching/solution/shi-pin-pin-jie-by-leetcode-solution/)




